---
import { ViewTransitions } from 'astro:transitions'
import Layout from '../layouts/Layout.astro'
import Background from '@components/Background.astro'
import Footer from '@components/Footer.astro'

import ResultsSection from '@components/ResultsSection.tsx'
---

<Layout title="Resultados | DevQuiz">
  <Background />

  <main
    class="flex flex-col items-center max-w-screen-md gap-20 px-10 py-20 mx-auto text-white lg:px-0"
  >
    <div class="flex flex-col items-center gap-5">
      <img id="quiz-image" alt="javascript logo" class="w-20 h-20" />
      <h1 id="quiz-title" class="text-3xl font-bold">Quiz de ...</h1>
    </div>
    <ResultsSection client:load />
    <Footer />
  </main>
</Layout>

<script>
  const titleElem = document.querySelector('#quiz-title')
  const imageElem = document.querySelector('#quiz-image')
  const data = JSON.parse(localStorage.getItem('devquiz') || '')

  if (titleElem && imageElem instanceof HTMLImageElement && data) {
    imageElem.src = data.quizImage
    titleElem.textContent = data.quizTitle
  }
</script>

<style>
  body {
    scrollbar-gutter:;
  }
</style>
